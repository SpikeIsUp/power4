<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../static/css/puissance4.css" />
    <title>Puissance 4 - IA & Difficulté</title>
  </head>
  <body>
    <!-- Gear et Menu -->
    <img
      class="gear"
      id="gear"
      src="../static/icon/icons8-menu.svg"
      alt="gear"
    />
    <div class="menu">
      <ul>
        <li id="restart">Rejouer</li>
        <li>
          Difficulté :
          <select id="difficulty">
            <option value="facile">Facile</option>
            <option value="moyen" selected>Moyen</option>
            <option value="difficile">Difficile</option>
          </select>
        </li>
        <li id="toggle-ai">Activer/Désactiver IA</li>
      </ul>
    </div>

    <!-- Indicateur de tour -->
    <div id="turn-indicator">Tour du Rouge</div>

    <!-- Plateau -->
    <div class="puissance4">
      <svg
        viewBox="0 0 675 575"
        preserveAspectRatio="xMidYMid meet"
        class="plateau"
      >
        <defs>
          <pattern
            id="plateauImage"
            patternUnits="userSpaceOnUse"
            width="675"
            height="575"
          >
            <image
              href="../static/image/fond_bleu_home.png"
              width="800"
              height="575"
            />
          </pattern>
          <mask id="trous">
            <rect width="675" height="575" fill="white" rx="80" ry="80" />
            <g fill="black">
              <!-- 7 colonnes × 6 lignes -->
              <circle cx="65" cy="80" r="34" />
              <circle cx="65" cy="163" r="34" />
              <circle cx="65" cy="246" r="34" />
              <circle cx="65" cy="329" r="34" />
              <circle cx="65" cy="412" r="34" />
              <circle cx="65" cy="495" r="34" />

              <circle cx="156" cy="80" r="34" />
              <circle cx="156" cy="163" r="34" />
              <circle cx="156" cy="246" r="34" />
              <circle cx="156" cy="329" r="34" />
              <circle cx="156" cy="412" r="34" />
              <circle cx="156" cy="495" r="34" />

              <circle cx="247" cy="80" r="34" />
              <circle cx="247" cy="163" r="34" />
              <circle cx="247" cy="246" r="34" />
              <circle cx="247" cy="329" r="34" />
              <circle cx="247" cy="412" r="34" />
              <circle cx="247" cy="495" r="34" />

              <circle cx="338" cy="80" r="34" />
              <circle cx="338" cy="163" r="34" />
              <circle cx="338" cy="246" r="34" />
              <circle cx="338" cy="329" r="34" />
              <circle cx="338" cy="412" r="34" />
              <circle cx="338" cy="495" r="34" />

              <circle cx="429" cy="80" r="34" />
              <circle cx="429" cy="163" r="34" />
              <circle cx="429" cy="246" r="34" />
              <circle cx="429" cy="329" r="34" />
              <circle cx="429" cy="412" r="34" />
              <circle cx="429" cy="495" r="34" />

              <circle cx="520" cy="80" r="34" />
              <circle cx="520" cy="163" r="34" />
              <circle cx="520" cy="246" r="34" />
              <circle cx="520" cy="329" r="34" />
              <circle cx="520" cy="412" r="34" />
              <circle cx="520" cy="495" r="34" />

              <circle cx="610" cy="80" r="34" />
              <circle cx="610" cy="163" r="34" />
              <circle cx="610" cy="246" r="34" />
              <circle cx="610" cy="329" r="34" />
              <circle cx="610" cy="412" r="34" />
              <circle cx="610" cy="495" r="34" />
            </g>
          </mask>
        </defs>

        <rect
          width="675"
          height="575"
          fill="url(#plateauImage)"
          mask="url(#trous)"
          rx="80"
          ry="80"
        />
      </svg>

      <!-- Colonnes cliquables -->
      <div class="colonne" data-col="0" style="left: 4.55%"></div>
      <div class="colonne" data-col="1" style="left: 18.06%"></div>
      <div class="colonne" data-col="2" style="left: 31.5%"></div>
      <div class="colonne" data-col="3" style="left: 44.98%"></div>
      <div class="colonne" data-col="4" style="left: 58.48%"></div>
      <div class="colonne" data-col="5" style="left: 71.95%"></div>
      <div class="colonne" data-col="6" style="left: 85.31%"></div>
    </div>

    <!-- Scripts -->
    <script src="../static/js/ia.js"></script>
    <script src="../static/js/main_ia.js"></script>

    <!-- Menu -->
    <script>
      const gear = document.getElementById("gear");
      const menu = document.querySelector(".menu");

      gear.addEventListener("click", (e) => {
        e.stopPropagation();
        menu.classList.toggle("active");
      });

      document.addEventListener("click", (e) => {
        if (!menu.contains(e.target) && !gear.contains(e.target)) {
          menu.classList.remove("active");
        }
      });
    </script>
  </body>
</html>
